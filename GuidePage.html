<!DOCTYPE Html>
<html>
    <head>
        <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
<link type="text/css" rel="stylesheet" href="navbar.css"/>
<script src="https://www.gstatic.com/firebasejs/5.8.6/firebase.js"></script>
<script src="setup_firebase.js"></script>
 <script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyA6aJwNLnNEbn2FZb5iiCGcwTnEq3B9fPU",
    authDomain: "foodapp-12113.firebaseapp.com",
    databaseURL: "https://foodapp-12113.firebaseio.com",
    projectId: "foodapp-12113",
    storageBucket: "foodapp-12113.appspot.com",
    messagingSenderId: "137830050682"
  };
  firebase.initializeApp(config);
</script>
<script>
// Initialize the FirebaseUI Widget using Firebase.
var ui = new firebaseui.auth.AuthUI(firebase.auth());
var uiConfig = {
  callbacks: {
    signInSuccessWithAuthResult: function(authResult, redirectUrl) {
      // User successfully signed in.
      // Return type determines whether we continue the redirect automatically
      // or whether we leave that to developer to handle.
      return true;
    },
    uiShown: function() {
      // The widget is rendered.
      // Hide the loader.
      document.getElementById('loader').style.display = 'none';
    }
  },
  // Will use popup for IDP Providers sign-in flow instead of the default, redirect.
  signInFlow: 'popup',
  signInSuccessUrl: 'Page_1.html',
  signInOptions: [
    // Leave the lines as is for the providers you want to offer your users.
    //firebase.auth.GoogleAuthProvider.PROVIDER_ID,
   // firebase.auth.FacebookAuthProvider.PROVIDER_ID,
    //firebase.auth.TwitterAuthProvider.PROVIDER_ID,
   // firebase.auth.GithubAuthProvider.PROVIDER_ID,
    firebase.auth.EmailAuthProvider.PROVIDER_ID,
   // firebase.auth.PhoneAuthProvider.PROVIDER_ID
  ],
  // Terms of service url.
  tosUrl: '<your-tos-url>',
  // Privacy policy url.
  privacyPolicyUrl: '<your-privacy-policy-url>'
};

// The start method will wait until the DOM is loaded.
ui.start('#firebaseui-auth-container', uiConfig);

firebase.auth().onAuthStateChanged(function(user) {

  if (user) {
    // User is signed in.
    
        



     }



   else {
    // No user is signed in.
    window.location.href = "Page_1.html";
    
      }



});


</script>


<style>

    a {
        color: white;
        text-decoration: none;
    }
    
body{
  
    background-color: dimgray;
}
.list p{
    border-radius: 20px;
    border: 2px solid lightblue;
    padding: 20px; 
    width: 500px;
    
    
}
.list p:hover{
    background-color: lightblue;
    
}
h1{
    margin-bottom: 35px;
      padding-left: 20px;
}

.list{
        padding-left: 20px;
}

#weight, #muscle, #money, #eco, #healthy {
    display: none;
}


</style>
    </head>
    <body>
        <header>
            <div class="title">title</div>
            <div class="line"></div>
            <nav id="navbar">
            <ul>
                <li><a href=NavigationPage.html class="navitext"><div class="home">Home</div></a></li>
                <li><a href=page_2.html class="navitext"><div class="profile">Profile</div></a></li>
                <li><a href=results.html class="navitext"><div class="search">Search</div></a></li>
                <li><a href=GuidePage.html class="navitext"><div class="guide">Guides</div></a></li>
            </ul>
            </nav>
            <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
            <script>
                $(".home").hover(function() {
                    $(".home").css("color", "white"); 
                },
                function() {
                    $(".home").css("color", "#484747"); 
                });
                $(".profile").hover(function() {
                    $(".profile").css("color", "white"); 
                },
                function() {
                    $(".profile").css("color", "#484747"); 
                });
                $(".search").hover(function() {
                    $(".search").css("color", "white"); 
                },
                function() {
                    $(".search").css("color", "#484747"); 
                });
                $(".guide").hover(function() {
                    $(".guide").css("color", "white"); 
                },
                function() {
                    $(".guide").css("color", "#484747"); 
                });
            </script>
        </header> 
        <h1>Guides</h1>

        <div id="weight">
            <div class="list" id="loseWeight" value="https://www.healthline.com/nutrition/how-to-lose-weight-as-fast-as-possible#section2">
                <h3><u>Lose Weight</u></h3>
                <a href="https://www.healthline.com/nutrition/how-to-lose-weight-as-fast-as-possible#section2"><p>How to lose weight fast</p></a>
            </div>
        </div>

        <div id="muscle">
            <div class="list" id="gainMuscle" value="https://www.healthline.com/nutrition/26-muscle-building-foods#section1">
                <h3><u>Gain Muscle</u></h3>
                <a href="https://www.healthline.com/nutrition/26-muscle-building-foods#section1"><p>Muscle building foods</p></a>
            </div>
        </div>

        <div id="money">
            <div class="list" id ="saveMoney" value="https://www.healthline.com/nutrition/19-ways-to-eat-healthy-on-a-budget#section14">
                <h3><u>Save Money</u></h3>
                <a href="https://www.healthline.com/nutrition/19-ways-to-eat-healthy-on-a-budget#section14"><p>Healthy on a budget</p></a>
            </div>
        </div>

        <div id="eco">
            <div class="list" id = "ecoFriendly" value="https://greenerideal.com/guides/0327-10-eco-friendly-shopping-tips/">
                <h3><u>Eco Friendly</u></h3>
                <a href="https://greenerideal.com/guides/0327-10-eco-friendly-shopping-tips/"><p>Help the Environment</p></a>
            </div>
        </div>

        <div id="healthy">
            <div class="list" id="eatHealthy" value='https://www.heartandstroke.ca/get-healthy/healthy-eating/healthy-eating-basics'>
                <h3><u>Eat Healthy</u></h3>
                <a href="https://www.heartandstroke.ca/get-healthy/healthy-eating/healthy-eating-basics"><p>Help your heart</p></a>
            </div>
        </div>

            <script>

                 var authRef = firebase.auth();
                 authRef.onAuthStateChanged(function(user) {
                   var firebaseRef = firebase.database().ref("users/" + firebase.auth().currentUser.uid)

                   if (firebaseRef.once("value")
                    .then(function(snapshot) {
                        var hasGoal = snapshot.hasChild("goal3");
                    })) {
                        console.log("test3");
                        $('#weight').css('display', 'none');
                        $('#muscle').css('display', 'none');
                        $('#money').css('display', 'none');
                        $('#eco').css('display', 'none');
                        $('#healthy').css('display', 'block');
                    } 

                    if (firebaseRef.once("value")
                    .then(function(snapshot) {
                        if (snapshot.hasChild("goal3")) {
                            $('#weight').css('display', 'none');
                            $('#muscle').css('display', 'none');
                            $('#money').css('display', 'none');
                            $('#eco').css('display', 'none');
                            $('#healthy').css('display', 'block');
                        }
                    }));

                    if (firebaseRef.once("value")
                    .then(function(snapshot) {
                        if (snapshot.hasChild("goal1")) {
                            $('#eco').css('display', 'none');
                            $('#muscle').css('display', 'none');
                            $('#money').css('display', 'none');
                            $('#healthy').css('display', 'none');
                            $('#weight').css('display', 'block');
                        }
                    }));

                    if (firebaseRef.once("value")
                    .then(function(snapshot) {
                        if (snapshot.hasChild("goal2")) {
                            $('#weight').css('display', 'none');
                            $('#eco').css('display', 'none');
                            $('#money').css('display', 'none');
                            $('#healthy').css('display', 'none');
                            $('#muscle').css('display', 'block');
                        }
                    }));

                    if (firebaseRef.once("value")
                    .then(function(snapshot) {
                        if (snapshot.hasChild("goal4")) {
                            $('#weight').css('display', 'none');
                            $('#muscle').css('display', 'none');
                            $('#eco').css('display', 'none');
                            $('#healthy').css('display', 'none');
                            $('#money').css('display', 'block');
                        }
                    }));

                    if (firebaseRef.once("value")
                    .then(function(snapshot) {
                        if (snapshot.hasChild("goal5")) {
                            $('#weight').css('display', 'none');
                            $('#muscle').css('display', 'none');
                            $('#money').css('display', 'none');
                            $('#healthy').css('display', 'none');
                            $('#eco').css('display', 'block');
                        }
                    }));
                });
              
            </script>


    </body>
    
</html>